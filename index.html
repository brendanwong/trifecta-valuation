<!DOCTYPE html>
<html lang="en">
  <head>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- chartjs -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>  

    <!-- css -->
    <link rel="stylesheet" type="text/css" href="style.css"/>


    <title>AMEX Gold Valuation Calculator</title>


    <!-- obtain vars -->
    <script>
        function setValues(){
            var monthlyRestaurantSpend, monthlyGrocerySpend, monthlyFlightSpend, monthlyMiscSpend;
            var monthlyAirlineFeeCredit, monthlyDiningCredit;
            var monthlySpendTotal, benefitsTotal, monthlyPointsTotal;
            var monthlyPointsValuation;

            // yearly personal spend
            monthlyRestaurantSpend = parseFloat(document.getElementById('monthlyRestaurantInput').value);
            monthlyGrocerySpend = parseFloat(document.getElementById('monthlyGroceryInput').value);
            monthlyFlightSpend = parseFloat(document.getElementById('monthlyFlightInput').value);
            monthlyMiscSpend = parseFloat(document.getElementById('monthlyMiscInput').value);

            // benefits
            monthlyAirlineFeeCredit = parseFloat(document.getElementById('monthlyAirlineFeeInput').value);
            monthlyDiningCredit = parseFloat(document.getElementById('monthlyDiningCreditInput').value);

            if (isNaN(monthlyRestaurantSpend))
                monthlyRestaurantSpend = 0;
            if (isNaN(monthlyGrocerySpend))
                monthlyGrocerySpend = 0;
            if (isNaN(monthlyFlightSpend))
                monthlyFlightSpend = 0;
            if (isNaN(monthlyMiscSpend))
                monthlyMiscSpend = 0;
            
            if (isNaN(monthlyAirlineFeeCredit))
                monthlyAirlineFeeCredit = 0;
            if (isNaN(monthlyDiningCredit))
                monthlyDiningCredit = 0;


            // calculations
            monthlySpendTotal = monthlyRestaurantSpend + monthlyGrocerySpend + monthlyFlightSpend + monthlyMiscSpend;
            benefitsTotal = monthlyAirlineFeeCredit + monthlyDiningCredit;
            monthlyPointsTotal = monthlyRestaurantSpend * 4 + monthlyGrocerySpend * 4 + monthlyFlightSpend * 3 + monthlyMiscSpend;

            // set values in document
            document.getElementById('monthlyTotal').innerHTML = Math.round(monthlySpendTotal).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            document.getElementById('monthlyBenefits').innerHTML = Math.round(benefitsTotal).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            document.getElementById('monthlyTotalPoints').innerHTML = Math.round(monthlyPointsTotal).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");

            // calculate with redemption method
            if (document.getElementById('monthlyCreditsRadio').checked == true)
                monthlyPointsValuation = (monthlyPointsTotal * 0.6)  / 100
            else if (document.getElementById('monthlyTravelRadio').checked == true)
                monthlyPointsValuation = monthlyPointsTotal / 100
            else if (document.getElementById('monthlyTransferRadio').checked == true)
                monthlyPointsValuation = monthlyPointsTotal * 2 / 100
            var yearlyPointsValuation = monthlyPointsValuation * 12 + benefitsTotal;
            monthlyPointsValuation = monthlyPointsValuation + benefitsTotal;
            document.getElementById('monthlyMRValuation').innerHTML = Math.round(monthlyPointsValuation).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");

            // yearly stuff

            var yearlySpendTotal = monthlySpendTotal * 12;
            var yearlyPointsTotal = monthlyPointsTotal * 12;

            document.getElementById('totalOutput').innerHTML = Math.round(yearlySpendTotal).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            document.getElementById('totalBenefits').innerHTML = Math.round(benefitsTotal).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            document.getElementById('totalPoints').innerHTML = Math.round(yearlyPointsTotal).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            document.getElementById('yearlyMRValuation').innerHTML = Math.round(yearlyPointsValuation).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");

        }
       
        
    </script>


  </head>

  <body onload="setValues()">
    <h4 class="display-4">AMEX Trifecta Valuation Calculator</h4>
    <div class="container">
        <div class="row">
            <div class="col-sm">
                <h5>Monthly spend:</h5>
                <p>Restaurants worldwide (4X points): $<input value=400 type="number" id="monthlyRestaurantInput" onkeyup="setValues()"></p>
                <p>US Supermarkets (4X points): $<input value=400 type="number" id="monthlyGroceryInput" onkeyup="setValues()"></p>
                <p>Flights (3X points): $<input value=0 type="number" id="monthlyFlightInput" onkeyup="setValues()"></p>
                <p>All Other Purchases (1X points): $<input value=0 type="number" id="monthlyMiscInput" onkeyup="setValues()"></p>

                <h5>Benefits valuation:</h5>
                <p>$100 airline fee: $<input value=0 type="number" id="monthlyAirlineFeeInput" onkeyup="setValues()"></p>
                <p>$120 dining credit: $<input value=0 type="number" id="monthlyDiningCreditInput" onkeyup="setValues()"></p>

                <h5>Monthly spend summary:</h5>
                <p>Total spend: $<span id="monthlyTotal"></span></p>
                <p>Total benefits: $<span id="monthlyBenefits"></span></p>
                <p>Total points earned: <span id="monthlyTotalPoints"></span> MR</p>

                <h5>Yearly spend summary:</h5>

                <p>Total spend: $<span id="totalOutput"></span></p>
                <p>Total benefits: $<span id="totalBenefits"></span></p>
                <p>Total points earned: <span id="totalPoints"></span> MR</p>

                <h5>Redemption method:</h5>
                <div>
                    <input type="radio" id="monthlyCreditsRadio" name="monthlyBenefitsRadioGroup" onclick="setValues()">
                    <label>Statement credit = 0.6 CPP</label>
                </div>
                <div>
                    <input type="radio" id="monthlyTravelRadio" name="monthlyBenefitsRadioGroup" onclick="setValues()">
                    <label>Travel = 1 CPP</label>
                </div>
                <div>
                    <input type="radio" id="monthlyTransferRadio" name="monthlyBenefitsRadioGroup" checked onclick="setValues()">
                    <label>Transfer Partners = 2 CPP</label>
                </div>

                <h5>Monthly MR Valuation total (+ benefits)</h5>
                <p>$<span id="monthlyMRValuation"></span></p>

                <h5>Yearly MR Valuation total (+ benefits)</h5>
                <p>$<span id="yearlyMRValuation"></span></p>
            </div>












            <div class="col-sm">
                <h5>Chase Trifecta tba:</h5>
                

            </div>
        </div>
    </div>







<!-- 
<canvas id="myChart" width="400" height="400"></canvas>
<script>
var ctx = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
        datasets: [{
            label: '# of Votes',
            data: [12, 19, 3, 5, 2, 3],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});
</script>


 -->






    </div>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>